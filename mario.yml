# Tasks

build:
  - docker build -t tutum.co/roll/opentrials-scraper .

check:
  - review
  - test

create:
  tutum stack create --sync -n opentrials-scraper -f docker-compose.yml

deploy:
  - tutum stack update --sync -f docker-compose.yml opentrials-scraper
  - tutum stack redeploy opentrials-scraper

login:
  - docker login
    -e $OPENTRIALS_TUTUM_EMAIL
    -u $OPENTRIALS_TUTUM_USER
    -p $OPENTRIALS_TUTUM_PASS
    tutum.co
  - tutum login
    -u $OPENTRIALS_TUTUM_USER
    -p $OPENTRIALS_TUTUM_PASS

push:
  docker push tutum.co/roll/opentrials-scraper

serve:
  docker-compose up

review:
  pylama scraper

test:
  py.test -vs tests
